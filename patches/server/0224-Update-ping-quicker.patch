From 10b90811e76e07d30dc603a1e0f8f3970890dc43 Mon Sep 17 00:00:00 2001
From: halfmaster1 <ohpointfive@gmail.com>
Date: Sat, 9 Apr 2022 20:33:31 -0400
Subject: [PATCH] Update ping quicker


diff --git a/src/main/java/net/minecraft/server/PlayerConnection.java b/src/main/java/net/minecraft/server/PlayerConnection.java
index bd30cbde..160b9eb4 100644
--- a/src/main/java/net/minecraft/server/PlayerConnection.java
+++ b/src/main/java/net/minecraft/server/PlayerConnection.java
@@ -2092,7 +2092,11 @@ public class PlayerConnection implements PacketListenerPlayIn, IUpdatePlayerList
         if (packetplayinkeepalive.a() == this.i) {
             int i = (int) (this.d() - this.j);
 
-            this.player.ping = (this.player.ping * 3 + i) / 4;
+            if (this.player.ping == 0) {
+                this.player.ping = i;
+            } else {
+                this.player.ping = (this.player.ping * 3 + i) / 4;
+            }
         }
 
     }
-- 
2.29.2

